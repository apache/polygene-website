<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>UnitOfWork (Apache Polygeneâ„¢ (Java Edition) SDK 3.0.0)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UnitOfWork (Apache Polygene\u2122 (Java Edition) SDK 3.0.0)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/polygene/api/unitofwork/ToValueConverter.html" title="interface in org.apache.polygene.api.unitofwork"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.apache.polygene.api.unitofwork"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/polygene/api/unitofwork/UnitOfWork.html" target="_top">Frames</a></li>
<li><a href="UnitOfWork.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.polygene.api.unitofwork</div>
<h2 title="Interface UnitOfWork" class="title">Interface UnitOfWork</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="../../../../../org/apache/polygene/api/structure/MetaInfoHolder.html" title="interface in org.apache.polygene.api.structure">MetaInfoHolder</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">UnitOfWork</span>
extends <a href="../../../../../org/apache/polygene/api/structure/MetaInfoHolder.html" title="interface in org.apache.polygene.api.structure">MetaInfoHolder</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></pre>
<div class="block">All operations on entities goes through an UnitOfWork.
 <p>
 A UnitOfWork allows you to access
 Entities and work with them. All modifications to Entities are recorded by the UnitOfWork,
 and at the end they may be sent to the underlying EntityStore by calling complete(). If the
 UoW was read-only you may instead simply discard() it.
 </p>
 <p>
 A UoW differs from a traditional Transaction in the sense that it is not tied at all to the underlying
 storage resource. Because of this there is no timeout on a UoW. It can be very short or very long.
 Another difference is that if a call to complete() fails, and the cause is validation errors in the
 Entities of the UoW, then these can be corrected and the UoW retried. By contrast, when a Transaction
 commit fails, then the whole transaction has to be done from the beginning again.
 </p>
 <p>
 A UoW can be associated with a Usecase. A Usecase describes the metainformation about the process
 to be performed by the UoW.
 </p>
 <p>
 If a code block that uses a UoW throws an exception you need to ensure that this is handled properly,
 and that the UoW is closed before returning. Because discard() is a no-op if the UoW is closed, we therefore
 recommend the following template to be used:
 </p>
 <pre>
     UnitOfWork uow = module.newUnitOfWork();
     try
     {
         ...
         uow.complete();
     }
     finally
     {
         uow.discard();
     }
 </pre>
 <p>
 This ensures that in the happy case the UoW is completed, and if any exception is thrown the UoW is discarded. After
 the UoW has completed the discard() method doesn't do anything, and so has no effect. You can choose to either add
 catch blocks for any exceptions, including exceptions from complete(), or skip them.
 </p>
 <p>
 Since 2.1 you can leverage Java 7 Automatic Resource Management (ie. Try With Resources) and use the following
 template instead:
 </p>
 <pre>
     try( UnitOfWork uow = module.newUnitOfWork() )
     {
         ...
         uow.complete();
     }
 </pre>
 <p>
 It has the very same effect as the template above but is shorter.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#addUnitOfWorkCallback-org.apache.polygene.api.unitofwork.UnitOfWorkCallback-">addUnitOfWorkCallback</a></span>(<a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.apache.polygene.api.unitofwork">UnitOfWorkCallback</a>&nbsp;callback)</code>
<div class="block">Register a callback.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#close--">close</a></span>()</code>
<div class="block">Discard this UnitOfWork.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#complete--">complete</a></span>()</code>
<div class="block">Complete this UnitOfWork.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time">Instant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#currentTime--">currentTime</a></span>()</code>
<div class="block">Current Time is a relative concept in systems capable of event sourcing and other
 history-capable systems.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#discard--">discard</a></span>()</code>
<div class="block">Discard this UnitOfWork.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#get-java.lang.Class-org.apache.polygene.api.identity.Identity-">get</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
   <a href="../../../../../org/apache/polygene/api/identity/Identity.html" title="interface in org.apache.polygene.api.identity">Identity</a>&nbsp;identity)</code>
<div class="block">Find an Entity of the given mixin type with the give reference.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#get-T-">get</a></span>(T&nbsp;entity)</code>
<div class="block">If you have a reference to an Entity from another
 UnitOfWork and want to create a reference to it in this
 UnitOfWork, then call this method.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#isOpen--">isOpen</a></span>()</code>
<div class="block">Check if the UnitOfWork is open.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#isPaused--">isPaused</a></span>()</code>
<div class="block">Check if the UnitOfWork is paused.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/polygene/api/structure/ModuleDescriptor.html" title="interface in org.apache.polygene.api.structure">ModuleDescriptor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#module--">module</a></span>()</code>
<div class="block">The Module of the UnitOfWork is defined as the Module the UnitOfWorkFactory belonged to from where the
 UnitOfWork was created.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#newEntity-java.lang.Class-">newEntity</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</code>
<div class="block">Create a new Entity which implements the given mixin type.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#newEntity-java.lang.Class-org.apache.polygene.api.identity.Identity-">newEntity</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
         <a href="../../../../../org/apache/polygene/api/identity/Identity.html" title="interface in org.apache.polygene.api.identity">Identity</a>&nbsp;identity)</code>
<div class="block">Create a new Entity which implements the given mixin type.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/entity/EntityBuilder.html" title="interface in org.apache.polygene.api.entity">EntityBuilder</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#newEntityBuilder-java.lang.Class-">newEntityBuilder</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</code>
<div class="block">Create a new EntityBuilder for an EntityComposite which implements the given mixin type.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/entity/EntityBuilder.html" title="interface in org.apache.polygene.api.entity">EntityBuilder</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#newEntityBuilder-java.lang.Class-org.apache.polygene.api.identity.Identity-">newEntityBuilder</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                <a href="../../../../../org/apache/polygene/api/identity/Identity.html" title="interface in org.apache.polygene.api.identity">Identity</a>&nbsp;identity)</code>
<div class="block">Create a new EntityBuilder for an EntityComposite which implements the given mixin type.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/entity/EntityBuilder.html" title="interface in org.apache.polygene.api.entity">EntityBuilder</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#newEntityBuilderWithState-java.lang.Class-java.util.function.Function-java.util.function.Function-java.util.function.Function-java.util.function.Function-">newEntityBuilderWithState</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/property/PropertyDescriptor.html" title="interface in org.apache.polygene.api.property">PropertyDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;propertyFunction,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&nbsp;associationFunction,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html?is-external=true" title="class or interface in java.util.stream">Stream</a>&lt;<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&gt;&nbsp;manyAssociationFunction,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html?is-external=true" title="class or interface in java.util.stream">Stream</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&gt;&gt;&nbsp;namedAssociationFunction)</code>
<div class="block">Create a new EntityBuilder for an EntityComposite wich implements the given mixin type starting with the given
 state.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/entity/EntityBuilder.html" title="interface in org.apache.polygene.api.entity">EntityBuilder</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#newEntityBuilderWithState-java.lang.Class-org.apache.polygene.api.identity.Identity-java.util.function.Function-java.util.function.Function-java.util.function.Function-java.util.function.Function-">newEntityBuilderWithState</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                         <a href="../../../../../org/apache/polygene/api/identity/Identity.html" title="interface in org.apache.polygene.api.identity">Identity</a>&nbsp;identity,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/property/PropertyDescriptor.html" title="interface in org.apache.polygene.api.property">PropertyDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;propertyFunction,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&nbsp;associationFunction,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html?is-external=true" title="class or interface in java.util.stream">Stream</a>&lt;<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&gt;&nbsp;manyAssociationFunction,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html?is-external=true" title="class or interface in java.util.stream">Stream</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&gt;&gt;&nbsp;namedAssociationFunction)</code>
<div class="block">Create a new EntityBuilder for an EntityComposite wich implements the given mixin type starting with the given
 state.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/query/Query.html" title="interface in org.apache.polygene.api.query">Query</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#newQuery-org.apache.polygene.api.query.QueryBuilder-">newQuery</a></span>(<a href="../../../../../org/apache/polygene/api/query/QueryBuilder.html" title="interface in org.apache.polygene.api.query">QueryBuilder</a>&lt;T&gt;&nbsp;queryBuilder)</code>
<div class="block">Creates a <a href="../../../../../org/apache/polygene/api/query/Query.html" title="interface in org.apache.polygene.api.query"><code>Query</code></a> from the given <a href="../../../../../org/apache/polygene/api/query/QueryBuilder.html" title="interface in org.apache.polygene.api.query"><code>QueryBuilder</code></a> on this <code>UnitOfWork</code>.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#pause--">pause</a></span>()</code>
<div class="block">Pauses this UnitOfWork.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#remove-java.lang.Object-">remove</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>
<div class="block">Remove the given Entity.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#removeUnitOfWorkCallback-org.apache.polygene.api.unitofwork.UnitOfWorkCallback-">removeUnitOfWorkCallback</a></span>(<a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.apache.polygene.api.unitofwork">UnitOfWorkCallback</a>&nbsp;callback)</code>
<div class="block">Unregister a callback.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#resume--">resume</a></span>()</code>
<div class="block">Resumes this UnitOfWork to again become the current UnitOfWork.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#setMetaInfo-java.lang.Object-">setMetaInfo</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;metaInfo)</code>
<div class="block">Sets an arbitrary metaInfo object on this <code>UnitOfWork</code> which can be used for application-specific
 information.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;<br>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toEntity-java.lang.Class-T-">toEntity</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;primaryType,
        T&nbsp;valueComposite)</code>
<div class="block">Converts the provided Value to an Entity of the same type.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;<br>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValue-java.lang.Class-T-">toValue</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;primaryType,
       T&nbsp;entityComposite)</code>
<div class="block">Converts the provided Entity to a Value of the same type.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;<br><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValueList-org.apache.polygene.api.association.ManyAssociation-">toValueList</a></span>(<a href="../../../../../org/apache/polygene/api/association/ManyAssociation.html" title="interface in org.apache.polygene.api.association">ManyAssociation</a>&lt;T&gt;&nbsp;association)</code>
<div class="block">Converts all the entities referenced in the ManyAssociation into a List of values of the same type.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;<br><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValueMap-org.apache.polygene.api.association.NamedAssociation-">toValueMap</a></span>(<a href="../../../../../org/apache/polygene/api/association/NamedAssociation.html" title="interface in org.apache.polygene.api.association">NamedAssociation</a>&lt;T&gt;&nbsp;association)</code>
<div class="block">Converts the <a href="../../../../../org/apache/polygene/api/association/NamedAssociation.html" title="interface in org.apache.polygene.api.association"><code>NamedAssociation</code></a> into a Map with a String key and a ValueComposite as the value.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;<br><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValueSet-org.apache.polygene.api.association.ManyAssociation-">toValueSet</a></span>(<a href="../../../../../org/apache/polygene/api/association/ManyAssociation.html" title="interface in org.apache.polygene.api.association">ManyAssociation</a>&lt;T&gt;&nbsp;association)</code>
<div class="block">Converts all the entities referenced in the ManyAssociation into a Set of values of the same type.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkFactory.html" title="interface in org.apache.polygene.api.unitofwork">UnitOfWorkFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#unitOfWorkFactory--">unitOfWorkFactory</a></span>()</code>
<div class="block">Get the UnitOfWorkFactory that this UnitOfWork was created from.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/polygene/api/usecase/Usecase.html" title="class in org.apache.polygene.api.usecase">Usecase</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#usecase--">usecase</a></span>()</code>
<div class="block">Get the Usecase for this UnitOfWork</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.polygene.api.structure.MetaInfoHolder">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.polygene.api.structure.<a href="../../../../../org/apache/polygene/api/structure/MetaInfoHolder.html" title="interface in org.apache.polygene.api.structure">MetaInfoHolder</a></h3>
<code><a href="../../../../../org/apache/polygene/api/structure/MetaInfoHolder.html#metaInfo-java.lang.Class-">metaInfo</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="unitOfWorkFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unitOfWorkFactory</h4>
<pre><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkFactory.html" title="interface in org.apache.polygene.api.unitofwork">UnitOfWorkFactory</a>&nbsp;unitOfWorkFactory()</pre>
<div class="block">Get the UnitOfWorkFactory that this UnitOfWork was created from.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The UnitOfWorkFactory instance that was used to create this UnitOfWork.</dd>
</dl>
</li>
</ul>
<a name="currentTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentTime</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time">Instant</a>&nbsp;currentTime()</pre>
<div class="block">Current Time is a relative concept in systems capable of event sourcing and other
 history-capable systems. Current time is always expected to be read from here, and
 history-capable systems will set the current time for each <a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkFactory.html#newUnitOfWork-java.time.Instant-"><code>UnitOfWorkFactory.newUnitOfWork(Instant)</code></a></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current time, either actual real time or historical time being part of some playback.</dd>
</dl>
</li>
</ul>
<a name="usecase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usecase</h4>
<pre><a href="../../../../../org/apache/polygene/api/usecase/Usecase.html" title="class in org.apache.polygene.api.usecase">Usecase</a>&nbsp;usecase()</pre>
<div class="block">Get the Usecase for this UnitOfWork</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Usecase</dd>
</dl>
</li>
</ul>
<a name="setMetaInfo-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMetaInfo</h4>
<pre>void&nbsp;setMetaInfo(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;metaInfo)</pre>
<div class="block">Sets an arbitrary metaInfo object on this <code>UnitOfWork</code> which can be used for application-specific
 information.
 <p>
 The metaInfo object is retrieved by the <a href="../../../../../org/apache/polygene/api/structure/MetaInfoHolder.html#metaInfo-java.lang.Class-"><code>MetaInfoHolder.metaInfo(Class)</code></a> method on the same UnitOfWork
 instance.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metaInfo</code> - The metaInfo object that can be retrieved with <a href="../../../../../org/apache/polygene/api/structure/MetaInfoHolder.html#metaInfo-java.lang.Class-"><code>MetaInfoHolder.metaInfo(Class)</code></a>.</dd>
</dl>
</li>
</ul>
<a name="newQuery-org.apache.polygene.api.query.QueryBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newQuery</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/query/Query.html" title="interface in org.apache.polygene.api.query">Query</a>&lt;T&gt;&nbsp;newQuery(<a href="../../../../../org/apache/polygene/api/query/QueryBuilder.html" title="interface in org.apache.polygene.api.query">QueryBuilder</a>&lt;T&gt;&nbsp;queryBuilder)</pre>
<div class="block">Creates a <a href="../../../../../org/apache/polygene/api/query/Query.html" title="interface in org.apache.polygene.api.query"><code>Query</code></a> from the given <a href="../../../../../org/apache/polygene/api/query/QueryBuilder.html" title="interface in org.apache.polygene.api.query"><code>QueryBuilder</code></a> on this <code>UnitOfWork</code>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The resulting type of the query.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryBuilder</code> - The QueryBuilder holding the query specification/expression</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A Query against this <code>UnitOfWork</code></dd>
</dl>
</li>
</ul>
<a name="newEntity-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntity</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;newEntity(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)
         throws <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a>,
                <a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a>,
                <a href="../../../../../org/apache/polygene/api/entity/LifecycleException.html" title="class in org.apache.polygene.api.entity">LifecycleException</a></pre>
<div class="block">Create a new Entity which implements the given mixin type.
 <p>
 An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.
 </p>
 <p>
 The reference of the Entity will be generated by the IdentityGenerator of the Module of the EntityComposite.
 </p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the mixin type that the EntityComposite must implement</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new Entity</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></code> - If several mixins implement the given type</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/entity/LifecycleException.html" title="class in org.apache.polygene.api.entity">LifecycleException</a></code> - if the entity cannot be created</dd>
</dl>
</li>
</ul>
<a name="newEntity-java.lang.Class-org.apache.polygene.api.identity.Identity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntity</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;newEntity(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                <a href="../../../../../org/apache/polygene/api/common/Optional.html" title="annotation in org.apache.polygene.api.common">@Optional</a>
                <a href="../../../../../org/apache/polygene/api/identity/Identity.html" title="interface in org.apache.polygene.api.identity">Identity</a>&nbsp;identity)
         throws <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a>,
                <a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a>,
                <a href="../../../../../org/apache/polygene/api/entity/LifecycleException.html" title="class in org.apache.polygene.api.entity">LifecycleException</a></pre>
<div class="block">Create a new Entity which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the mixin type that the EntityComposite must implement</dd>
<dd><code>identity</code> - the reference of the new Entity</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new Entity</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></code> - If several mixins implement the given type</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/entity/LifecycleException.html" title="class in org.apache.polygene.api.entity">LifecycleException</a></code> - if the entity cannot be created</dd>
</dl>
</li>
</ul>
<a name="newEntityBuilder-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntityBuilder</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/entity/EntityBuilder.html" title="interface in org.apache.polygene.api.entity">EntityBuilder</a>&lt;T&gt;&nbsp;newEntityBuilder(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)
                               throws <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a>,
                                      <a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></pre>
<div class="block">Create a new EntityBuilder for an EntityComposite which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the mixin type that the EntityComposite must implement</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new EntityBuilder</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></code> - If several mixins implement the given type</dd>
</dl>
</li>
</ul>
<a name="newEntityBuilder-java.lang.Class-org.apache.polygene.api.identity.Identity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntityBuilder</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/entity/EntityBuilder.html" title="interface in org.apache.polygene.api.entity">EntityBuilder</a>&lt;T&gt;&nbsp;newEntityBuilder(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                                      <a href="../../../../../org/apache/polygene/api/common/Optional.html" title="annotation in org.apache.polygene.api.common">@Optional</a>
                                      <a href="../../../../../org/apache/polygene/api/identity/Identity.html" title="interface in org.apache.polygene.api.identity">Identity</a>&nbsp;identity)
                               throws <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a>,
                                      <a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></pre>
<div class="block">Create a new EntityBuilder for an EntityComposite which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 mixins implement the type then an AmbiguousTypeException will be thrown.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the mixin type that the EntityComposite must implement</dd>
<dd><code>identity</code> - the reference of the new Entity</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new EntityBuilder</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></code> - If several mixins implement the given type</dd>
</dl>
</li>
</ul>
<a name="newEntityBuilderWithState-java.lang.Class-java.util.function.Function-java.util.function.Function-java.util.function.Function-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntityBuilderWithState</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/entity/EntityBuilder.html" title="interface in org.apache.polygene.api.entity">EntityBuilder</a>&lt;T&gt;&nbsp;newEntityBuilderWithState(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/property/PropertyDescriptor.html" title="interface in org.apache.polygene.api.property">PropertyDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;propertyFunction,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&nbsp;associationFunction,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html?is-external=true" title="class or interface in java.util.stream">Stream</a>&lt;<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&gt;&nbsp;manyAssociationFunction,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html?is-external=true" title="class or interface in java.util.stream">Stream</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&gt;&gt;&nbsp;namedAssociationFunction)
                                        throws <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a>,
                                               <a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></pre>
<div class="block">Create a new EntityBuilder for an EntityComposite wich implements the given mixin type starting with the given
 state.
 <p>
 An EntityComposite will be chosen according to what has been registered and the visibility rules for Modules and
 Layers will be considered.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - Entity type</dd>
<dd><code>propertyFunction</code> - a function providing the state of properties</dd>
<dd><code>associationFunction</code> - a function providing the state of associations</dd>
<dd><code>manyAssociationFunction</code> - a function providing the state of many associations</dd>
<dd><code>namedAssociationFunction</code> - a function providing the state of named associations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new EntityBuilder starting with the given state</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></code> - If several mixins implement the given type</dd>
</dl>
</li>
</ul>
<a name="newEntityBuilderWithState-java.lang.Class-org.apache.polygene.api.identity.Identity-java.util.function.Function-java.util.function.Function-java.util.function.Function-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntityBuilderWithState</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/polygene/api/entity/EntityBuilder.html" title="interface in org.apache.polygene.api.entity">EntityBuilder</a>&lt;T&gt;&nbsp;newEntityBuilderWithState(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                                               <a href="../../../../../org/apache/polygene/api/common/Optional.html" title="annotation in org.apache.polygene.api.common">@Optional</a>
                                               <a href="../../../../../org/apache/polygene/api/identity/Identity.html" title="interface in org.apache.polygene.api.identity">Identity</a>&nbsp;identity,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/property/PropertyDescriptor.html" title="interface in org.apache.polygene.api.property">PropertyDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;propertyFunction,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&nbsp;associationFunction,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html?is-external=true" title="class or interface in java.util.stream">Stream</a>&lt;<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&gt;&nbsp;manyAssociationFunction,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;<a href="../../../../../org/apache/polygene/api/association/AssociationDescriptor.html" title="interface in org.apache.polygene.api.association">AssociationDescriptor</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html?is-external=true" title="class or interface in java.util.stream">Stream</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity">EntityReference</a>&gt;&gt;&gt;&nbsp;namedAssociationFunction)
                                        throws <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a>,
                                               <a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></pre>
<div class="block">Create a new EntityBuilder for an EntityComposite wich implements the given mixin type starting with the given
 state.
 <p>
 An EntityComposite will be chosen according to what has been registered and the visibility rules for Modules and
 Layers will be considered.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - Entity type</dd>
<dd><code>identity</code> - the reference of the new Entity</dd>
<dd><code>propertyFunction</code> - a function providing the state of properties</dd>
<dd><code>associationFunction</code> - a function providing the state of associations</dd>
<dd><code>manyAssociationFunction</code> - a function providing the state of many associations</dd>
<dd><code>namedAssociationFunction</code> - a function providing the state of named associations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new EntityBuilder starting with the given state</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></code> - If no mixins implements the given type</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/composite/AmbiguousTypeException.html" title="class in org.apache.polygene.api.composite">AmbiguousTypeException</a></code> - If several mixins implement the given type</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.Class-org.apache.polygene.api.identity.Identity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;get(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
          <a href="../../../../../org/apache/polygene/api/identity/Identity.html" title="interface in org.apache.polygene.api.identity">Identity</a>&nbsp;identity)
   throws <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a>,
          <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityException</a></pre>
<div class="block">Find an Entity of the given mixin type with the give reference. This
 method verifies that it exists by asking the underlying EntityStore.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - of the entity</dd>
<dd><code>identity</code> - of the entity</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entity</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></code> - if no entity type could be found</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityException</a></code> - if the entity could not be found</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.Object-">
<!--   -->
</a><a name="get-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;get(T&nbsp;entity)
   throws <a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></pre>
<div class="block">If you have a reference to an Entity from another
 UnitOfWork and want to create a reference to it in this
 UnitOfWork, then call this method.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - the Entity to be dereferenced</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an Entity from this UnitOfWork</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/NoSuchEntityTypeException.html" title="class in org.apache.polygene.api.unitofwork">NoSuchEntityTypeException</a></code> - if no entity type could be found</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>void&nbsp;remove(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)
     throws <a href="../../../../../org/apache/polygene/api/entity/LifecycleException.html" title="class in org.apache.polygene.api.entity">LifecycleException</a></pre>
<div class="block">Remove the given Entity.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - the Entity to be removed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/entity/LifecycleException.html" title="class in org.apache.polygene.api.entity">LifecycleException</a></code> - if the entity could not be removed</dd>
</dl>
</li>
</ul>
<a name="complete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>complete</h4>
<pre>void&nbsp;complete()
       throws <a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkCompletionException.html" title="class in org.apache.polygene.api.unitofwork">UnitOfWorkCompletionException</a>,
              <a href="../../../../../org/apache/polygene/api/unitofwork/ConcurrentEntityModificationException.html" title="class in org.apache.polygene.api.unitofwork">ConcurrentEntityModificationException</a></pre>
<div class="block">Complete this UnitOfWork. This will send all the changes down to the underlying
 EntityStore's.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkCompletionException.html" title="class in org.apache.polygene.api.unitofwork">UnitOfWorkCompletionException</a></code> - if the UnitOfWork could not be completed</dd>
<dd><code><a href="../../../../../org/apache/polygene/api/unitofwork/ConcurrentEntityModificationException.html" title="class in org.apache.polygene.api.unitofwork">ConcurrentEntityModificationException</a></code> - if entities have been modified by others</dd>
</dl>
</li>
</ul>
<a name="discard--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discard</h4>
<pre>void&nbsp;discard()</pre>
<div class="block">Discard this UnitOfWork. Use this if a failure occurs that you cannot handle,
 or if the usecase was of a read-only character. This is a no-op of the UnitOfWork
 is already closed.</div>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">Discard this UnitOfWork. Use this if a failure occurs that you cannot handle,
 or if the usecase was of a read-only character. This is a no-op of the UnitOfWork
 is already closed. This simply call the <a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#discard--"><code>discard()</code></a> method and is an
 implementation of the <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang"><code>AutoCloseable</code></a> interface providing Try With Resources
 support for UnitOfWork.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
<a name="isOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>boolean&nbsp;isOpen()</pre>
<div class="block">Check if the UnitOfWork is open. It is closed after either complete() or discard()
 methods have been called successfully.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the UnitOfWork is open.</dd>
</dl>
</li>
</ul>
<a name="isPaused--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPaused</h4>
<pre>boolean&nbsp;isPaused()</pre>
<div class="block">Check if the UnitOfWork is paused. It is not paused after it has been create through the
 UnitOfWorkFactory, and it can be paused by calling <a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#pause--"><code>pause()</code></a> and then resumed by calling
 <a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#resume--"><code>resume()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this UnitOfWork has been paused.</dd>
</dl>
</li>
</ul>
<a name="pause--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pause</h4>
<pre>void&nbsp;pause()</pre>
<div class="block">Pauses this UnitOfWork.
 <p>
 Calling this method will cause the underlying UnitOfWork to become the current UnitOfWork until the
 the resume() method is called. It is the client's responsibility not to drop the reference to this
 UnitOfWork while being paused.
 </p></div>
</li>
</ul>
<a name="resume--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resume</h4>
<pre>void&nbsp;resume()</pre>
<div class="block">Resumes this UnitOfWork to again become the current UnitOfWork.</div>
</li>
</ul>
<a name="addUnitOfWorkCallback-org.apache.polygene.api.unitofwork.UnitOfWorkCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addUnitOfWorkCallback</h4>
<pre>void&nbsp;addUnitOfWorkCallback(<a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.apache.polygene.api.unitofwork">UnitOfWorkCallback</a>&nbsp;callback)</pre>
<div class="block">Register a callback. Callbacks are invoked when the UnitOfWork
 is completed or discarded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - a callback to be registered with this UnitOfWork</dd>
</dl>
</li>
</ul>
<a name="removeUnitOfWorkCallback-org.apache.polygene.api.unitofwork.UnitOfWorkCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeUnitOfWorkCallback</h4>
<pre>void&nbsp;removeUnitOfWorkCallback(<a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.apache.polygene.api.unitofwork">UnitOfWorkCallback</a>&nbsp;callback)</pre>
<div class="block">Unregister a callback. Callbacks are invoked when the UnitOfWork
 is completed or discarded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - a callback to be unregistered with this UnitOfWork</dd>
</dl>
</li>
</ul>
<a name="toValue-java.lang.Class-org.apache.polygene.api.identity.HasIdentity-">
<!--   -->
</a><a name="toValue-java.lang.Class-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toValue</h4>
<pre>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;&nbsp;T&nbsp;toValue(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;primaryType,
                                  T&nbsp;entityComposite)</pre>
<div class="block">Converts the provided Entity to a Value of the same type.
 This is a convenience method to convert an EntityComposite to a ValueComposite.
 <p>
 All Property values are transferred across as-is, and the Association, ManyAssociation
 and NamedAssociatino values are kept in the ValueComposite as EntityReferences
 until they are dereferenced (get() and other methods), and IF a UnitOfWork is
 present at dereferencing the corresponding EntityCompoiste is retrieved from the
 EntityStore. If there is not an UnitOfWork present, an exception is thrown.
 </p>
 <p>
 For this to work, the Composites (both Entity and Value) must not declare the
 EntityComposite and ValueComposite super types, but rely on the declaration in
 the assembly, and also extend the Identity supertype.
 </p>
 Example;
 <pre><code>
     public interface Person extends Identity { ... };
     public class MyAssembler
     {
         public void assemble( ModuleAssembly module )
         {
             module.values( Person.class );
             module.entities( Person.class );
         }
     }
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The generic shared type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>primaryType</code> - The shared type for which the properties and associations will
                        be converted. Properties outside this type will be ignored.</dd>
<dd><code>entityComposite</code> - The entity to be convered.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Value</dd>
</dl>
</li>
</ul>
<a name="toValueList-org.apache.polygene.api.association.ManyAssociation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toValueList</h4>
<pre>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;T&gt;&nbsp;toValueList(<a href="../../../../../org/apache/polygene/api/association/ManyAssociation.html" title="interface in org.apache.polygene.api.association">ManyAssociation</a>&lt;T&gt;&nbsp;association)</pre>
<div class="block">Converts all the entities referenced in the ManyAssociation into a List of values of the same type.
 <p>
 All the referenced entities inside the association will be fetched from the underlying entity store,
 which is potentially very expensive operation. Each of the fetched entities will be passed to
 <a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValue-java.lang.Class-T-"><code>toValue(Class, HasIdentity)</code></a>, and its associations will NOT be converted into values, but remain
 <a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity"><code>EntityReference</code></a> values. Hence there is no problem with circular references.
 </p>
 <p>
 For this to work, the type &lt;T&gt; must be registered at bootstrap as both an Entity and a Value, and
 as seen in the method signature, also be sub-type of <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity"><code>HasIdentity</code></a>.
 </p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The primary type of the association.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>association</code> - The association of entities to be converted into values.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A List of ValueComposites that has been converted from EntityComposites referenced by the Associations.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValue-java.lang.Class-T-"><code>toValue(Class, HasIdentity)</code></a></dd>
</dl>
</li>
</ul>
<a name="toValueSet-org.apache.polygene.api.association.ManyAssociation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toValueSet</h4>
<pre>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;T&gt;&nbsp;toValueSet(<a href="../../../../../org/apache/polygene/api/association/ManyAssociation.html" title="interface in org.apache.polygene.api.association">ManyAssociation</a>&lt;T&gt;&nbsp;association)</pre>
<div class="block">Converts all the entities referenced in the ManyAssociation into a Set of values of the same type.
 <p>
 All the referenced entities inside the association will be fetched from the underlying entity store,
 which is potentially very expensive operation. However, any duplicate EntityReferences in the association
 will be dropped before the fetch occurs. Each of the fetched entities will be passed to
 <a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValue-java.lang.Class-T-"><code>toValue(Class, HasIdentity)</code></a>, and its associations will NOT be converted into values, but remain
 <a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity"><code>EntityReference</code></a> values. Hence there is no problem with circular references.
 </p>
 <p>
 For this to work, the type &lt;T&gt; must be registered at bootstrap as both an Entity and a Value, and
 as seen in the method signature, also be sub-type of <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity"><code>HasIdentity</code></a>.
 </p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The primary type of the association.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>association</code> - The association of entities to be converted into values.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A List of ValueComposites that has been converted from EntityComposites referenced by the Associations.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValue-java.lang.Class-T-"><code>toValue(Class, HasIdentity)</code></a></dd>
</dl>
</li>
</ul>
<a name="toValueMap-org.apache.polygene.api.association.NamedAssociation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toValueMap</h4>
<pre>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,T&gt;&nbsp;toValueMap(<a href="../../../../../org/apache/polygene/api/association/NamedAssociation.html" title="interface in org.apache.polygene.api.association">NamedAssociation</a>&lt;T&gt;&nbsp;association)</pre>
<div class="block">Converts the <a href="../../../../../org/apache/polygene/api/association/NamedAssociation.html" title="interface in org.apache.polygene.api.association"><code>NamedAssociation</code></a> into a Map with a String key and a ValueComposite as the value.
 <p>
 A <a href="../../../../../org/apache/polygene/api/association/NamedAssociation.html" title="interface in org.apache.polygene.api.association"><code>NamedAssociation</code></a> is effectively a Map with a String key and an EntityReference as the value. The
 EntityReference is fetched from the entity store and converted into a value of the same type.Each of the fetched
 entities will be passed to <a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValue-java.lang.Class-T-"><code>toValue(Class, HasIdentity)</code></a>, and its associations will NOT be converted into
 values, but remain <a href="../../../../../org/apache/polygene/api/entity/EntityReference.html" title="class in org.apache.polygene.api.entity"><code>EntityReference</code></a> values. Hence there is no problem with circular references.
 </p>
 <p>
 For this to work, the type &lt;T&gt; must be registered at bootstrap as both an Entity and a Value, and
 as seen in the method signature, also be sub-type of <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity"><code>HasIdentity</code></a>.
 </p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The primary type of the association.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>association</code> - The association of entities to be converted into values.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A List of ValueComposites that has been converted from EntityComposites referenced by the Associations.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWork.html#toValue-java.lang.Class-T-"><code>toValue(Class, HasIdentity)</code></a></dd>
</dl>
</li>
</ul>
<a name="toEntity-java.lang.Class-org.apache.polygene.api.identity.HasIdentity-">
<!--   -->
</a><a name="toEntity-java.lang.Class-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toEntity</h4>
<pre>&lt;T extends <a href="../../../../../org/apache/polygene/api/identity/HasIdentity.html" title="interface in org.apache.polygene.api.identity">HasIdentity</a>&gt;&nbsp;T&nbsp;toEntity(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;primaryType,
                                   T&nbsp;valueComposite)</pre>
<div class="block">Converts the provided Value to an Entity of the same type.
 This is a convenience method to convert a ValueComposite to an EntityComposite.
 <p>
 All Property values are transferred across as-is (no deep copy in case mutable
 types (DISCOURAGED!) are used), and the Association, ManyAssociation
 and NamedAssociatino that were in the ValueComposite as EntityReferences are
 transferred into the EntityComposite correctly, and can be dereferenced.
 </p>
 <p>
 This method MUST be called within a UnitOfWork.
 </p>
 <p>
 If an Entity with the Identity in the ValueComposite already exists, then that
 Entity is updated with the values from the ValueComposite. If an Entity of
 that Identity doesn't exist a new one is created.
 </p>
 <p>
 For this to work, the Composites (both Entity and Value) must not declare the
 EntityComposite and ValueComposite super types, but rely on the declaration in
 the assembly, and also extend the Identity supertype.
 </p>
 Example;
 <pre><code>
     public interface Person extends Identity { ... };
     public class MyAssembler
     {
         public void assemble( ModuleAssembly module )
         {
             module.values( Person.class );
             module.entities( Person.class );
         }
     }
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The generic shared type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>primaryType</code> - The shared type for which the properties and associations will
                       be converted. Properties outside this type will be ignored.</dd>
<dd><code>valueComposite</code> - The Value to be convered into an Entity.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The new or updated Entity</dd>
</dl>
</li>
</ul>
<a name="module--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>module</h4>
<pre><a href="../../../../../org/apache/polygene/api/structure/ModuleDescriptor.html" title="interface in org.apache.polygene.api.structure">ModuleDescriptor</a>&nbsp;module()</pre>
<div class="block">The Module of the UnitOfWork is defined as the Module the UnitOfWorkFactory belonged to from where the
 UnitOfWork was created.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Module where this UnitOfWork was initialized.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/polygene/api/unitofwork/ToValueConverter.html" title="interface in org.apache.polygene.api.unitofwork"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/polygene/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.apache.polygene.api.unitofwork"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/polygene/api/unitofwork/UnitOfWork.html" target="_top">Frames</a></li>
<li><a href="UnitOfWork.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
